<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <pre>

    1 客户端服务端模型
        当你的电脑连入互联网之后，你的电脑将会获得一个编号地址 (Internet Protocol address) 即IP地址
        bilibili的服务器也接入互联网 他也将分配一个IP地址
        我们常说的访问XX网站 就是访问XX网站的服务器
        此时你的电脑被称为 客户端 bilibili的服务器为服务端

    2 TCP/IP 协议族
        协议的定义：协议是一组规则 用于指定计算机应该如何通过网络相互通信
        TCP/IP 协议分为四层 应用层 TCP传输控制层 IP网络层 链路层
        应用层：提供特定于应用程序的协议 （HTTP FTP IMAP） 
            HTTP：负责浏览器和网络服务器通信
            FTP：负责文件传输
            IMAP：电子邮件客户端检索邮件
        传输控制层：发送数据包到计算机上使用特定端口号的应用程序
        网络层：使用IP地址将数据包发送到特定的计算机
        链路层：将二进制数据包与网络信号相互转换

    3 你是如何访问到bilibili站点数据的
        应用层：我们使用应用层的HTTP协议 请求获取html文本 这时需要发送一个消息
                消息在发送前会被分解为许多片段 我们称之为数据包
        TCP层：每个数据包都会分配一个端口号 端口号用来确定目标计算机的哪一个应用程序 要接受并使用该数据包
                (TCP是一种面向连接的可靠字节流服务协议)
                TCP必须先经过 三次握手建立连接后才能交换数据 每个收到的数据包都会向发送方 发送ack确认 以保证发送成功
        IP层：进入IP层后 每个数据包将会赋予目标计算机的IP地址
                IP是不可靠的无连接协议 它并不关心数据包是否到达目的地 也不关心连接和端口号
                它的工作是发送数据包并将其路由到目标计算机 其中每个数据包都是独立的互不依赖的 导致有可能乱序到达目标地址
                或者在传输途中丢失 
        那如何保证包的到达和顺序正确呢？ 
        当数据包过大时，在IP层会进行分包 每个数据包在链路层走的物理链路不一样 传输速度也不一样 导致数据包没有按顺序到达目的地
        TCP会根据数据包上携带的序列号来进行排序重组
        并且发送方在一个特定时间内没有接受到 接收方的ack确认时 则发送方会重新发送该数据包

        链路层：有了IP地址和端口号之后 链路层将数据包的文本信息转译成电子信号 然后通过电缆传输

        在电缆另一端的路由器检查 每个数据包的目标地址 并确定将其发送到何处
        数据包到达服务器后 数据包从TCP/IP协议族 的底部开始向上运行 将IP地址和端口号从数据包中脱离出来
        当数据到达栈顶时 数据包已经恢复成最初始的形式

        通过端口号可以将数据传递给 当前服务器 监听该端口的应用程序 应用程序根据当前请求数据做出反应
    
    4 IP 与 IP地址
        IP 是 网络层协议
        IP地址是一串数字
    
    5 IP地址的两种标准
        IPv4 (Internet Protocol version 4)  采用32地址 即4字节 地址空间只有2的32次方 约40亿个地址
        IPv6 采用128位地址 地址空间支持2的128次方

    6 你的电脑和bilibili服务器之间的互联网是怎么构成的
        你的电脑通过调试解调器 (modem) 也就是平时说的 猫
        猫将计算机的信号翻译成可沿普通电话线传送的模拟信号后 在公共电话网络 进行传输
        公共电话网络通过连接ISP（Internet Service Provider）即互联网服务提供商 来接入互联网
        数据包进过电话网络和 ISP 后 他们将路由到ISP的主干网络
        数据包通常会从此经过多个路由器 并经过多个主干网直到找到目的地
        互联网骨干网由多个相互连接的大型网络（Network Service Provider）组成 (NSP 网络服务提供商)
        NSP是为ISP提供网络主干服务的公司 ISP从NSP那批量购入带宽 为客户提供网络接入服务
        NSP网络通过至少三个网络访问点NAP相连来交换数据包流量
    
    7 特殊的计算器-路由器
        路由器上有路由表 记录了子网络的所有IP地址
        当数据包到达路由器 路由器检查路由表上是否有 目的地的IP地址？发送给那个网络：向上层发送数据

    8 DNS （Domain Names Service）
        DNS是一个分布式数据库 记录了域名与ip地址的对应关系
        在输入网址时 浏览器连接DNS服务器 获取到该域名的IP地址后 浏览器再连接访问该IP的服务器


    </pre>

</body>

</html>